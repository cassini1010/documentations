
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cassini1010.github.io/documentations/Python/pytest/">
      
      
        <link rel="prev" href="../pyinstaller/">
      
      
        <link rel="next" href="../pythonBuiltIns/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Pytest - Doc-Study</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-6TEMF0BM7J"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-6TEMF0BM7J",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-6TEMF0BM7J",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pytest" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Doc-Study" class="md-header__button md-logo" aria-label="Doc-Study" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Doc-Study
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Pytest
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Light Mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Light Mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Dark Mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Dark Mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/de/" hreflang="de" class="md-select__link">
              Deutsch
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  üëã Welcome

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../AI_ML/MachineLearning/" class="md-tabs__link">
          
  
  
  AI ML

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Automotive/Certificate_Based_Authentication/" class="md-tabs__link">
          
  
  
  Automotive

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Git/Github_Workflow/" class="md-tabs__link">
          
  
  
  Git

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Linux/ubuntu_server/" class="md-tabs__link">
          
  
  
  Linux

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Miscellaneous/Data_Structurs/" class="md-tabs__link">
          
  
  
  Miscellaneous

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../FastAPI_Deployment/" class="md-tabs__link">
          
  
  
  Python

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
  
  Blog

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Doc-Study" class="md-nav__button md-logo" aria-label="Doc-Study" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Doc-Study
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üëã Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AI ML
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            AI ML
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI_ML/MachineLearning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Machine Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AI_ML/PyTorch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PyTorch
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Automotive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Automotive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Automotive/Certificate_Based_Authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Certificate Based Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/Github_Workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Github Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/ubuntu_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ubuntu-server
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Miscellaneous
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Miscellaneous
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/Data_Structurs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Structures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/Docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/Flask/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flask
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/GoogleITAutomatin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Crashing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/GoogleITCourse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GoogleIT Course
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/How_HTTPS_Works/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How HTTPS Works
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/Jira_Testing_Cycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jira Testing Cycle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/MkDocs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Material for MkDocs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/SQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/cloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Cloud
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/cmdTricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command Prompt Tricks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/fastapi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FastAPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/general/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Must check Github Pages and sites ‚ù§
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/global/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using and creating global variables:
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscellaneous/smtp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SMTP in Python:
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FastAPI_Deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FastAPI Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Numpy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Numpy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PythonTricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Tricks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Python_Interview_Questions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Interview Questions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Python_best_practices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Best Practices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Timing_your_python_code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Timing Your Python Code
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logging in Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pyinstaller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PyInstaller
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Pytest
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Pytest
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#__tracebackhide__" class="md-nav__link">
    <span class="md-ellipsis">
      __tracebackhide__
    </span>
  </a>
  
    <nav class="md-nav" aria-label="__tracebackhide__">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-outcomes" class="md-nav__link">
    <span class="md-ellipsis">
      Test Outcomes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-expected-exception" class="md-nav__link">
    <span class="md-ellipsis">
      Testing expected exception
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytest-fixtures" class="md-nav__link">
    <span class="md-ellipsis">
      pytest fixtures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pytest fixtures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tracing-fixture-execution" class="md-nav__link">
    <span class="md-ellipsis">
      tracing fixture execution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finding-where-fixtures-are-defined" class="md-nav__link">
    <span class="md-ellipsis">
      Finding where fixtures are defined
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameterization" class="md-nav__link">
    <span class="md-ellipsis">
      Parameterization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parameterization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameterizing-test-function" class="md-nav__link">
    <span class="md-ellipsis">
      Parameterizing test function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-a-single-parameterized-test" class="md-nav__link">
    <span class="md-ellipsis">
      Selecting a Single Parameterized Test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameterizing-fixture" class="md-nav__link">
    <span class="md-ellipsis">
      Parameterizing fixture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameterize-using-the-hook-function-pytest_generate_test" class="md-nav__link">
    <span class="md-ellipsis">
      Parameterize using the hook function pytest_generate_test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-manage-logging" class="md-nav__link">
    <span class="md-ellipsis">
      How to manage logging:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-basic-example" class="md-nav__link">
    <span class="md-ellipsis">
      A basic example:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A basic example:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#print-logging-statements-to-console" class="md-nav__link">
    <span class="md-ellipsis">
      Print logging statements to console:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#print-logging-messages-in-a-log-file" class="md-nav__link">
    <span class="md-ellipsis">
      Print logging messages in a log file:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#print-logging-and-print-statements-to-console-and-log-file" class="md-nav__link">
    <span class="md-ellipsis">
      Print logging and print statements to console and log file:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pythonBuiltIns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Built-ins in Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../string/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python String Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    tox
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../uv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    uv
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2023
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/daily-dos%C3%A9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    daily-dos√©
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#__tracebackhide__" class="md-nav__link">
    <span class="md-ellipsis">
      __tracebackhide__
    </span>
  </a>
  
    <nav class="md-nav" aria-label="__tracebackhide__">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-outcomes" class="md-nav__link">
    <span class="md-ellipsis">
      Test Outcomes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-expected-exception" class="md-nav__link">
    <span class="md-ellipsis">
      Testing expected exception
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytest-fixtures" class="md-nav__link">
    <span class="md-ellipsis">
      pytest fixtures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pytest fixtures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tracing-fixture-execution" class="md-nav__link">
    <span class="md-ellipsis">
      tracing fixture execution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finding-where-fixtures-are-defined" class="md-nav__link">
    <span class="md-ellipsis">
      Finding where fixtures are defined
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameterization" class="md-nav__link">
    <span class="md-ellipsis">
      Parameterization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parameterization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameterizing-test-function" class="md-nav__link">
    <span class="md-ellipsis">
      Parameterizing test function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-a-single-parameterized-test" class="md-nav__link">
    <span class="md-ellipsis">
      Selecting a Single Parameterized Test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameterizing-fixture" class="md-nav__link">
    <span class="md-ellipsis">
      Parameterizing fixture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameterize-using-the-hook-function-pytest_generate_test" class="md-nav__link">
    <span class="md-ellipsis">
      Parameterize using the hook function pytest_generate_test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-manage-logging" class="md-nav__link">
    <span class="md-ellipsis">
      How to manage logging:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-basic-example" class="md-nav__link">
    <span class="md-ellipsis">
      A basic example:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A basic example:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#print-logging-statements-to-console" class="md-nav__link">
    <span class="md-ellipsis">
      Print logging statements to console:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#print-logging-messages-in-a-log-file" class="md-nav__link">
    <span class="md-ellipsis">
      Print logging messages in a log file:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#print-logging-and-print-statements-to-console-and-log-file" class="md-nav__link">
    <span class="md-ellipsis">
      Print logging and print statements to console and log file:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="pytest">Pytest<a class="headerlink" href="#pytest" title="Permanent link">&para;</a></h1>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<h3 id="__tracebackhide__"><code>__tracebackhide__</code><a class="headerlink" href="#__tracebackhide__" title="Permanent link">&para;</a></h3>
<p>The¬†<code>assert_identical</code>¬†function sets¬†<code>__tracebackhide__ = True</code>. This is optional. The effect is that failing tests will not include this function in the traceback.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">cards</span><span class="w"> </span><span class="kn">import</span> <span class="n">Card</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>


<span class="k">def</span><span class="w"> </span><span class="nf">assert_identical</span><span class="p">(</span><span class="n">c1</span><span class="p">:</span> <span class="n">Card</span><span class="p">,</span> <span class="n">c2</span><span class="p">:</span> <span class="n">Card</span><span class="p">):</span>
    <span class="n">__tracebackhide__</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">assert</span> <span class="n">c1</span> <span class="o">==</span> <span class="n">c2</span>
    <span class="k">if</span> <span class="n">c1</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">c2</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;id&#39;s don&#39;t match: </span><span class="si">{</span><span class="n">c1</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> != </span><span class="si">{</span><span class="n">c2</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">test_identical</span><span class="p">():</span>
    <span class="n">c1</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
    <span class="n">assert_identical</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">test_identical_fail</span><span class="p">():</span>
    <span class="n">c1</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">456</span><span class="p">)</span>
    <span class="n">assert_identical</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span>
</code></pre></div>
<h6 id="test-outcomes">Test Outcomes<a class="headerlink" href="#test-outcomes" title="Permanent link">&para;</a></h6>
<p>The possible test outcomes are:</p>
<div class="highlight"><pre><span></span><code>PASSED<span class="w"> </span><span class="o">(</span>.<span class="o">)</span>
FAILED<span class="w"> </span><span class="o">(</span>F<span class="o">)</span>
XPASS<span class="w"> </span><span class="o">(</span>X<span class="o">)</span><span class="w"> </span>
XFAIL<span class="w"> </span><span class="o">(</span>x<span class="o">)</span>
SKIPPED<span class="w"> </span><span class="o">(</span>s<span class="o">)</span>
ERROR<span class="w"> </span><span class="o">(</span>E<span class="o">)</span>
</code></pre></div>
<h3 id="testing-expected-exception">Testing expected exception<a class="headerlink" href="#testing-expected-exception" title="Permanent link">&para;</a></h3>
<p>A normal try-except block is not suitable for testing expected exceptions. The code below passes if an exception is raised and fails if it is not. However, a try-except block passes the test if the exception is raised and caught, and also passes if the exception is not raised, which is not ideal for testing.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">cards</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>


<span class="c1"># suggested way to test expected exception</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_no_path_fail</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
        <span class="n">cards</span><span class="o">.</span><span class="n">CardsDB</span><span class="p">()</span>
</code></pre></div>
<h2 id="pytest-fixtures">pytest fixtures<a class="headerlink" href="#pytest-fixtures" title="Permanent link">&para;</a></h2>
<p>The example code below demonstrates fixtures in pytest. The first test passes, the second results in an error, and the third fails.</p>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;Demonstrate simple fixtures.&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>


<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">some_data</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return answer to ultimate question.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="mi">42</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_some_data</span><span class="p">(</span><span class="n">some_data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Use fixture return value in a test.&quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">some_data</span> <span class="o">==</span> <span class="mi">42</span>




<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">some_other_data</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raise an exception from fixture.&quot;&quot;&quot;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">43</span>
    <span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">42</span>
    <span class="k">return</span> <span class="n">x</span>


<span class="k">def</span><span class="w"> </span><span class="nf">test_other_data</span><span class="p">(</span><span class="n">some_other_data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempt to use a failing fixture.&quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">some_other_data</span> <span class="o">==</span> <span class="mi">42</span>




<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">a_tuple</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return something more interesting.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">})</span>


<span class="k">def</span><span class="w"> </span><span class="nf">test_a_tuple</span><span class="p">(</span><span class="n">a_tuple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate the a_tuple fixture.&quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">a_tuple</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s2">&quot;bar&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">32</span>


<span class="o">&gt;&gt;&gt;</span> <span class="n">test_fixtures</span><span class="o">.</span><span class="n">py</span><span class="p">::</span><span class="n">test_some_data</span> <span class="n">PASSED</span>                                                                                                      <span class="p">[</span> <span class="mi">33</span><span class="o">%</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">test_fixtures</span><span class="o">.</span><span class="n">py</span><span class="p">::</span><span class="n">test_other_data</span> <span class="n">ERROR</span>                                                                                                      <span class="p">[</span> <span class="mi">66</span><span class="o">%</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">test_fixtures</span><span class="o">.</span><span class="n">py</span><span class="p">::</span><span class="n">test_a_tuple</span> <span class="n">FAILED</span>  
</code></pre></div>
<p><strong>If a test results in "Fail," the failure is in the test function (or something it called). If a test results in "Error," the failure is in a fixture.</strong></p>
<h3 id="tracing-fixture-execution">tracing fixture execution<a class="headerlink" href="#tracing-fixture-execution" title="Permanent link">&para;</a></h3>
<p>When two or more test functions use the same fixture, you can see how and when the fixture is called by using the¬†<code>pytest --setup-show</code>¬†flag.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tempfile</span><span class="w"> </span><span class="kn">import</span> <span class="n">TemporaryDirectory</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">cards</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>


<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cards_db</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">db_dir</span><span class="p">:</span>
        <span class="n">db_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">db_dir</span><span class="p">)</span>
        <span class="n">db</span> <span class="o">=</span> <span class="n">cards</span><span class="o">.</span><span class="n">CardsDB</span><span class="p">(</span><span class="n">db_path</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">db</span>
        <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="k">def</span><span class="w"> </span><span class="nf">test_empty</span><span class="p">(</span><span class="n">cards_db</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">cards_db</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span>



<span class="k">def</span><span class="w"> </span><span class="nf">test_two</span><span class="p">(</span><span class="n">cards_db</span><span class="p">):</span>
    <span class="n">cards_db</span><span class="o">.</span><span class="n">add_card</span><span class="p">(</span><span class="n">cards</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="s2">&quot;first&quot;</span><span class="p">))</span>
    <span class="n">cards_db</span><span class="o">.</span><span class="n">add_card</span><span class="p">(</span><span class="n">cards</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span><span class="s2">&quot;second&quot;</span><span class="p">))</span>
    <span class="k">assert</span> <span class="n">cards_db</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span>


<span class="o">&gt;&gt;&gt;</span>     <span class="n">SETUP</span>    <span class="n">F</span> <span class="n">cards_db</span>
        <span class="n">ch3</span><span class="o">/</span><span class="n">test_count</span><span class="o">.</span><span class="n">py</span><span class="p">::</span><span class="n">test_empty</span> <span class="p">(</span><span class="n">fixtures</span> <span class="n">used</span><span class="p">:</span> <span class="n">cards_db</span><span class="p">)</span><span class="o">.</span>
        <span class="n">TEARDOWN</span> <span class="n">F</span> <span class="n">cards_db</span>
        <span class="n">SETUP</span>    <span class="n">F</span> <span class="n">cards_db</span>
        <span class="n">ch3</span><span class="o">/</span><span class="n">test_count</span><span class="o">.</span><span class="n">py</span><span class="p">::</span><span class="n">test_two</span> <span class="p">(</span><span class="n">fixtures</span> <span class="n">used</span><span class="p">:</span> <span class="n">cards_db</span><span class="p">)</span><span class="o">.</span>
        <span class="n">TEARDOWN</span> <span class="n">F</span> <span class="n">cards_db</span>
</code></pre></div>
<h3 id="finding-where-fixtures-are-defined">Finding where fixtures are defined<a class="headerlink" href="#finding-where-fixtures-are-defined" title="Permanent link">&para;</a></h3>
<p>You can have¬†<code>conftest.py</code>¬†files at any level of your test directory. Tests can use any fixture that is in the same test module, in a¬†<code>conftest.py</code>¬†file in the same directory, or in any parent directory up to the root of the tests.</p>
<div class="highlight"><pre><span></span><code><span class="n">pytest</span> <span class="o">--</span><span class="n">fixtures</span> <span class="c1"># shows all the locations where fixtures are defined</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">pytest</span> <span class="o">--</span><span class="n">fixtures</span><span class="o">-</span><span class="n">per</span><span class="o">-</span><span class="n">test</span> <span class="o">&lt;</span><span class="n">folder</span> <span class="n">name</span> <span class="ow">or</span> <span class="n">testFile</span> <span class="n">name</span><span class="o">&gt;</span>
<span class="c1"># prints the fixtures used in test functions</span>
</code></pre></div>
<h2 id="parameterization">Parameterization<a class="headerlink" href="#parameterization" title="Permanent link">&para;</a></h2>
<p>There are three types of parameterization:</p>
<ul>
<li>
<p>Parameterising functions</p>
</li>
<li>
<p>Parameterising fixtures</p>
</li>
<li>
<p>Using a hook function called <code>pytest_generate_tests</code></p>
</li>
</ul>
<h3 id="parameterizing-test-function">Parameterizing test function<a class="headerlink" href="#parameterizing-test-function" title="Permanent link">&para;</a></h3>
<p>A test function uses the¬†<code>pytest.mark.parametrize</code>¬†decorator for parameterization. This decorator takes variable names and a list of parameter values. Variable names can be a comma-separated string or a list of strings. Values must be provided as a list (or list of tuples).</p>
<div class="highlight"><pre><span></span><code><span class="c1"># test_func_param.py</span>


<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
<span class="s2">&quot;start_summary, start_state&quot;</span><span class="p">,</span>
<span class="p">[</span>
<span class="p">(</span><span class="s2">&quot;write a book&quot;</span><span class="p">,</span> <span class="s2">&quot;done&quot;</span><span class="p">),</span>
<span class="p">(</span><span class="s2">&quot;second edition&quot;</span><span class="p">,</span> <span class="s2">&quot;in prog&quot;</span><span class="p">),</span>
<span class="p">(</span><span class="s2">&quot;create a course&quot;</span><span class="p">,</span> <span class="s2">&quot;todo&quot;</span><span class="p">),</span>
<span class="p">],</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">test_finish</span><span class="p">(</span><span class="n">cards_db</span><span class="p">,</span> <span class="n">start_summary</span><span class="p">,</span> <span class="n">start_state</span><span class="p">):</span> 
    <span class="o">...</span>
</code></pre></div>
<h3 id="selecting-a-single-parameterized-test">Selecting a Single Parameterized Test<a class="headerlink" href="#selecting-a-single-parameterized-test" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="w"> </span>pytest<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;test_func_param.py::test_finish[write a book-done]&quot;</span>
</code></pre></div>
<h3 id="parameterizing-fixture">Parameterizing fixture<a class="headerlink" href="#parameterizing-fixture" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">params</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;done&quot;</span><span class="p">,</span> <span class="s2">&quot;in prog&quot;</span><span class="p">,</span> <span class="s2">&quot;todo&quot;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">start_state</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
¬†¬†¬†¬†<span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_finish</span><span class="p">(</span><span class="n">cards_db</span><span class="p">,</span> <span class="n">start_state</span><span class="p">):</span> 
    <span class="o">...</span>
</code></pre></div>
<h3 id="parameterize-using-the-hook-function-pytest_generate_test">Parameterize using the hook function <code>pytest_generate_test</code><a class="headerlink" href="#parameterize-using-the-hook-function-pytest_generate_test" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">pytest_generate_tests</span><span class="p">(</span><span class="n">metafunc</span><span class="p">):</span>
¬†¬†¬†¬†<span class="k">if</span> <span class="s2">&quot;start_state&quot;</span> <span class="ow">in</span> <span class="n">metafunc</span><span class="o">.</span><span class="n">fixturenames</span><span class="p">:</span>
¬†¬†¬†¬†¬†¬†¬†¬†<span class="n">metafunc</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s2">&quot;start_state&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;done&quot;</span><span class="p">,</span> <span class="s2">&quot;in prog&quot;</span><span class="p">,</span> <span class="s2">&quot;todo&quot;</span><span class="p">])</span> 

<span class="k">def</span><span class="w"> </span><span class="nf">test_finish</span><span class="p">(</span><span class="n">cards_db</span><span class="p">,</span> <span class="n">start_state</span><span class="p">):</span> 
    <span class="o">...</span>
</code></pre></div>
<h3 id="how-to-manage-logging">How to manage logging:<a class="headerlink" href="#how-to-manage-logging" title="Permanent link">&para;</a></h3>
<p>Simply pass the name of the test file to pytest to run the tests.</p>
<div class="highlight"><pre><span></span><code><span class="n">pytest</span> <span class="n">test_one</span><span class="o">.</span><span class="n">py</span> <span class="c1"># tests all the test functions in this python file</span>
<span class="n">pytest</span> <span class="n">test_card</span><span class="o">.</span><span class="n">py</span><span class="p">::</span><span class="n">test_defaults</span> <span class="c1"># tests only test_defaults function in this python file</span>
<span class="n">pytest</span> <span class="o">&lt;</span><span class="n">folder</span> <span class="n">name</span><span class="o">&gt;</span> <span class="c1"># tests all the test functions present in all the files in this folder</span>
</code></pre></div>
<h3 id="a-basic-example">A basic example:<a class="headerlink" href="#a-basic-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>

<span class="k">def</span><span class="w">  </span><span class="nf">test_apple</span><span class="p">():</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LEET Debug message&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;LEET info message&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;LEET warning message&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;LEET error message&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this is a print statement&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Running the above code using¬†<code>pytest</code>¬†will not show any logging messages or print statements on the console, nor will it produce a log file.</p>
<p>Using¬†<code>pytest --capture=no</code>¬†will print only the¬†<code>print</code>¬†statements to the console. In this case,¬†<code>this is a print statement</code>¬†will be printed, but all logging messages will be ignored.</p>
<h5 id="print-logging-statements-to-console">Print logging statements to console:<a class="headerlink" href="#print-logging-statements-to-console" title="Permanent link">&para;</a></h5>
<p>To print logging messages to the console, it is advisable to write a pytest configuration file with logging settings and use the¬†<strong><code>caplog</code></strong>¬†fixture in your test.</p>
<div class="highlight"><pre><span></span><code><span class="na">pytest.ini file</span>


<span class="k">[pytest]</span>
<span class="na">log_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%(asctime)s %(levelname)s %(message)s</span>
<span class="na">log_date_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%Y-%m-%d %H:%M:%S</span>
<span class="na">log_level</span><span class="o">=</span><span class="s">DEBUG</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>

<span class="k">def</span><span class="w">  </span><span class="nf">test_apple</span><span class="p">(</span><span class="n">caplog</span><span class="p">):</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LEET Debug message&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;LEET info message&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;LEET warning message&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;LEET error message&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this is a print statement&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">caplog</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<p>OUTPUT:</p>
<div class="highlight"><pre><span></span><code>test_leet.py<span class="w"> </span>this<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>print<span class="w"> </span>statement
<span class="m">2023</span>-08-07<span class="w"> </span><span class="m">07</span>:33:20<span class="w"> </span>DEBUG<span class="w"> </span>LEET<span class="w"> </span>Debug<span class="w"> </span>message
<span class="m">2023</span>-08-07<span class="w"> </span><span class="m">07</span>:33:20<span class="w"> </span>INFO<span class="w"> </span>LEET<span class="w"> </span>info<span class="w"> </span>message
<span class="m">2023</span>-08-07<span class="w"> </span><span class="m">07</span>:33:20<span class="w"> </span>WARNING<span class="w"> </span>LEET<span class="w"> </span>warning<span class="w"> </span>message
<span class="m">2023</span>-08-07<span class="w"> </span><span class="m">07</span>:33:20<span class="w"> </span>ERROR<span class="w"> </span>LEET<span class="w"> </span>error<span class="w"> </span>message
</code></pre></div>
<h5 id="print-logging-messages-in-a-log-file">Print logging messages in a log file:<a class="headerlink" href="#print-logging-messages-in-a-log-file" title="Permanent link">&para;</a></h5>
<p>The following configurations can be added to the¬†<code>pytest.ini</code>¬†file to log messages to a file.</p>
<p>Do not use the¬†<code>caplog</code>¬†fixture in this case.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>

<span class="k">def</span><span class="w">  </span><span class="nf">test_apple</span><span class="p">():</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LEET Debug message&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;LEET info message&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;LEET warning message&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;LEET error message&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this is a print statement&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="na">pytest.ini file</span>

<span class="k">[pytest]</span>
<span class="na">log_file</span><span class="o">=</span><span class="s">log\logging.log</span>
<span class="na">log_file_level</span><span class="o">=</span><span class="s">DEBUG</span>
<span class="na">log_file_format</span><span class="o">=</span><span class="s">%(asctime)s %(levelname)s %(message)s</span>
<span class="na">logfile_date_format</span><span class="o">=</span><span class="s">%Y-%m-%d %H:%M:%S</span>
<span class="na">log_auto_indent</span><span class="o">=</span><span class="s">true</span>
</code></pre></div>
<p>in /log/logging.log</p>
<div class="highlight"><pre><span></span><code><span class="m">07</span>:39:08<span class="w"> </span>DEBUG<span class="w"> </span>LEET<span class="w"> </span>Debug<span class="w"> </span>message
<span class="m">07</span>:39:08<span class="w"> </span>INFO<span class="w"> </span>LEET<span class="w"> </span>info<span class="w"> </span>message
<span class="m">07</span>:39:08<span class="w"> </span>WARNING<span class="w"> </span>LEET<span class="w"> </span>warning<span class="w"> </span>message
<span class="m">07</span>:39:08<span class="w"> </span>ERROR<span class="w"> </span>LEET<span class="w"> </span>error<span class="w"> </span>message
</code></pre></div>
<p><strong>Note:¬†Print statements are not included in the log file.</strong></p>
<h5 id="print-logging-and-print-statements-to-console-and-log-file">Print <code>logging</code> and <code>print</code> statements to console and log file:<a class="headerlink" href="#print-logging-and-print-statements-to-console-and-log-file" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">[pytest]</span>
<span class="na">log_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%(asctime)s %(levelname)s %(message)s</span>
<span class="na">log_date_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%Y-%m-%d %H:%M:%S</span>
<span class="na">log_level</span><span class="o">=</span><span class="s">DEBUG</span>
<span class="na">log_file</span><span class="o">=</span><span class="s">log\logging.log</span>
<span class="na">log_file_level</span><span class="o">=</span><span class="s">DEBUG</span>
<span class="na">log_file_format</span><span class="o">=</span><span class="s">%(asctime)s %(levelname)s %(message)s</span>
<span class="na">logfile_date_format</span><span class="o">=</span><span class="s">%Y-%m-%d %H:%M:%S</span>
<span class="na">log_auto_indent</span><span class="o">=</span><span class="s">true</span>
</code></pre></div>
<p>Run¬†<code>pytest --capture=no</code>¬†to print both logging and print statements to the console.</p>
<h1 id="handling-test-failures">Handling Test failures:<a class="headerlink" href="#handling-test-failures" title="Permanent link">&para;</a></h1>
<div class="highlight"><pre><span></span><code><span class="n">pytest</span> <span class="o">-</span><span class="n">x</span> <span class="c1"># stop after first failure</span>
<span class="n">pytest</span> <span class="o">-</span><span class="n">x</span> <span class="o">--</span><span class="n">pdb</span> <span class="c1">#jump to pdb after first failure</span>

<span class="n">pytest</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">fail</span><span class="o">=</span><span class="mi">3</span> <span class="c1"># stop after 3 failures</span>
<span class="n">pytest</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">fail</span><span class="o">=</span><span class="mi">3</span> <span class="o">--</span><span class="n">pdb</span> <span class="c1">#jump to pdb all the 3 failures.</span>


<span class="n">pytest</span> <span class="o">--</span><span class="n">pdb</span> <span class="c1">#jumps to pdb on every failure</span>
<span class="n">pytest</span> <span class="o">--</span><span class="n">trace</span> <span class="c1"># jumps to pdb from the beginning of the test</span>
</code></pre></div>
<h6 id="two-ways-to-add-breakpoint">Two ways to add breakpoint:<a class="headerlink" href="#two-ways-to-add-breakpoint" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="c1">#pythons built in breakpoint() method</span>
<span class="nb">breakpoint</span><span class="p">()</span>


<span class="c1">#importing pdb module</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pdb</span>
<span class="n">pdb</span><span class="o">.</span><span class="n">set_trace</span><span class="p">()</span> <span class="s1">&#39;&#39;&#39; add this line where-ever </span>
<span class="s1">executions needs to jump to pdb&#39;&#39;&#39;</span>
</code></pre></div>
<h1 id="managing-pytest-output">Managing Pytest Output:<a class="headerlink" href="#managing-pytest-output" title="Permanent link">&para;</a></h1>
<p><code>pytest --tb</code>¬†is helpful for logging a detailed or shortened traceback when a test fails.</p>
<div class="highlight"><pre><span></span><code><span class="n">pytest</span> <span class="o">--</span><span class="n">tb</span><span class="o">=</span><span class="n">mode</span> <span class="c1">#Traceback print mode (auto/long/short/line/native/no)</span>
</code></pre></div>
<p><code>pytest --full-trace</code> is going to log a whole trace traversed by the test when it fails.</p>
<p>This is a great way to understand the flow of the test script.</p>
<p><code>pytest -v</code> increases verbosity of logging </p>
<p><code>pytest -vv</code> increases verbosity to two folds.</p>
<h6 id="creating-junit-format-output-files">Creating JUnit format output files:<a class="headerlink" href="#creating-junit-format-output-files" title="Permanent link">&para;</a></h6>
<p><code>pytest --junitxml=log.xml</code>  will create a log file named <code>log.xml</code> with the standard log details.</p>
<p><code>pytest --full-trace --junitxml=log.xml</code> is an efficient way to analyze code in depth when a test fails.</p>
<h3 id="the-pastebin-feature-in-pytest">The Pastebin Feature in Pytest<a class="headerlink" href="#the-pastebin-feature-in-pytest" title="Permanent link">&para;</a></h3>
<p><code>--pastebin=mode</code>       Send <strong>failed|all</strong> info to bpaste.net pastebin service.</p>
<p>Sending all or failed test results to the pastebin service creates an instant URL containing the entire test session log details.</p>
<p>This URL can be used to share the log results with other collaborators.</p>
<h1 id="temporary-directories-and-files-in-pytest">Temporary Directories and Files in Pytest:<a class="headerlink" href="#temporary-directories-and-files-in-pytest" title="Permanent link">&para;</a></h1>
<div class="highlight"><pre><span></span><code><span class="c1"># from pytest import TempPathFactory</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_kill</span><span class="p">(</span><span class="n">tmp_path</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tmp_path</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">tmp_path</span><span class="o">/</span><span class="s2">&quot;hello.txt&quot;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;hello this is Dustin&quot;</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">tmp_path</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_groot</span><span class="p">(</span><span class="n">tmp_path_factory</span><span class="p">):</span>
    <span class="n">fp</span> <span class="o">=</span> <span class="n">tmp_path_factory</span><span class="o">.</span><span class="n">mktemp</span><span class="p">(</span><span class="s2">&quot;Dustin&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="s2">&quot;waste.txt&quot;</span>
    <span class="k">with</span> <span class="n">fp</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fl</span><span class="p">:</span>
        <span class="n">fl</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Dustin&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Running¬†<code>pytest --basetemp=TEMP</code>¬†creates a base temporary directory in the project directory, resulting in the following folder structure:</p>
<div class="highlight"><pre><span></span><code>C:.
‚îú‚îÄ‚îÄ‚îÄjeevan0
‚îÇ<span class="w">       </span>waste.txt
‚îÇ
‚îî‚îÄ‚îÄ‚îÄtest_kill0
<span class="w">        </span>hello.txt
</code></pre></div>
<h1 id="linting-pytest-scripts">Linting Pytest Scripts:<a class="headerlink" href="#linting-pytest-scripts" title="Permanent link">&para;</a></h1>
<div class="highlight"><pre><span></span><code><span class="n">pip</span> <span class="n">install</span> <span class="n">flake8</span><span class="o">-</span><span class="n">pytest</span><span class="o">-</span><span class="n">style</span>
</code></pre></div>
<p><code>flake8-pytest-style</code>¬†is a¬†<code>flake8</code>¬†plugin that checks for common style issues or inconsistencies in¬†<code>pytest</code>-based tests. It can be a helpful tool.</p>
<h1 id="changing-standard-test-discovery">Changing Standard Test Discovery:<a class="headerlink" href="#changing-standard-test-discovery" title="Permanent link">&para;</a></h1>
<p><code>--ignore=path</code>¬†ignores tests in the specified folder path. The path can also be a specific Python test file to ignore.</p>
<p><code>--ignore-glob='*_01.p_'</code>¬†will ignore all files that match the given glob pattern.</p>
<p>Pytest discovers tests by recursively searching the directory passed as an argument, or the current directory if no path is provided.</p>
<p><code>pytest src/temp/</code>  or <code>pytest</code></p>
<p>If the¬†<code>norecursedirs</code>¬†option is set in the pytest.ini file, pytest will not recurse into these directories to find test files.</p>
<div class="highlight"><pre><span></span><code><span class="k">[pytest]</span>
<span class="na">norecursedirs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">.env tmp*</span>
</code></pre></div>
<p>This will not find test files in tmp prefixed dirs and .env dir.</p>
<h6 id="to-change-the-test-file-discovery-pattern-from-test_py-and-_testpy-to-some-other-pattern">To change the test file discovery pattern from test_*.py and *_test.py to some other pattern.<a class="headerlink" href="#to-change-the-test-file-discovery-pattern-from-test_py-and-_testpy-to-some-other-pattern" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="k">[pytest]</span>
<span class="na">python_files</span><span class="o">=</span><span class="w"> </span><span class="s">groot_*.py</span>
<span class="na">python_classes</span><span class="o">=</span><span class="s">Groot</span>
<span class="na">python_functions</span><span class="o">=</span><span class="s">groot_*</span>
</code></pre></div>
<p>Another way to ignore test files or folders in pytest is to provide the file or folder name in a standard list in the¬†<code>conftest.py</code>¬†file.</p>
<p><code>collect_ignore</code> and <code>collect_ignore_glob</code></p>
<h1 id="fixtures">Fixtures<a class="headerlink" href="#fixtures" title="Permanent link">&para;</a></h1>
<p><code>capsys</code>¬†and¬†<code>capsysbinary</code>¬†are built-in fixtures used to capture text from¬†<code>sys.stdout</code>¬†and¬†<code>sys.stderr</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_output</span><span class="p">(</span><span class="n">capsys</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span> 
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="c1"># for capsysbinary</span>
</code></pre></div>
<p><code>capfd</code>¬†and¬†<code>capfdbinary</code>¬†are built-in fixtures used to capture text from file descriptors 1 and 2.</p>
<div class="highlight"><pre><span></span><code>where python <span class="mi">1</span><span class="p">&gt;</span>NUL //1 captures the output from terminal and directs it to NUL
where tycon <span class="mi">2</span><span class="p">&gt;</span>NUL //2 captures the error from the terminal and directs it to NUL
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_system_echo</span><span class="p">(</span><span class="n">capfd</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;echo &quot;hello&quot;&#39;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capfd</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</code></pre></div>
<h6 id="the-readouterr-method-in-capsys-capsysbinary-capfd-capfdbinary-returns-outerr-which-is-a-tuple">The <code>readouterr()</code> method in <code>capsys, capsysbinary, capfd, capfdbinary</code> returns <code>(out,err)</code> which is a tuple.<a class="headerlink" href="#the-readouterr-method-in-capsys-capsysbinary-capfd-capfdbinary-returns-outerr-which-is-a-tuple" title="Permanent link">&para;</a></h6>
<h2 id="configuration-files-in-pytest">Configuration files in pytest<a class="headerlink" href="#configuration-files-in-pytest" title="Permanent link">&para;</a></h2>
<p>The following files can be used as configuration files for a pytest project.</p>
<ul>
<li>
<p>pytest.ini</p>
</li>
<li>
<p>tox.ini</p>
</li>
<li>
<p>pyproject.toml</p>
</li>
<li>
<p>setup.cfg</p>
</li>
</ul>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better. actions: - accept - manage - reject</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
    
      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>